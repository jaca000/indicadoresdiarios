<!doctype html>
<html lang="pt-PT">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Monte do Pasto · Painel Vivo</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

<style>
/* =========================
   BASE
   ========================= */
*{box-sizing:border-box}
html,body{height:100%}

body{
  margin:0;
  font-family:Inter,system-ui;
  color:#f3f6f4;
  background:#0c0f0d;
  overflow:hidden;
}

/* =========================
   WEATHER FX LAYER
   ========================= */
.weather-fx{
  position:fixed;
  inset:0;
  pointer-events:none;
  z-index:0;
}

/* RAIN */
.rain{
  background:
    repeating-linear-gradient(
      90deg,
      rgba(255,255,255,.15) 0px,
      rgba(255,255,255,.15) 1px,
      transparent 1px,
      transparent 18px
    );
  animation: rain-fall 25s linear infinite;
}
@keyframes rain-fall{
  from{transform:translateY(-20%);}
  to{transform:translateY(20%);}
}

/* SUN */
.sun{
  background:
    radial-gradient(circle at 50% 30%, rgba(255,200,80,.35), transparent 45%);
  animation: sun-pulse 8s ease-in-out infinite;
}
@keyframes sun-pulse{
  0%,100%{opacity:.7;}
  50%{opacity:1;}
}

/* CLOUD / FOG */
.fog{
  background:
    radial-gradient(circle at 30% 50%, rgba(255,255,255,.08), transparent 55%),
    radial-gradient(circle at 70% 60%, rgba(255,255,255,.06), transparent 60%);
  animation: fog-drift 120s linear infinite;
}
@keyframes fog-drift{
  from{transform:translateX(0);}
  to{transform:translateX(-10%);}
}

/* SNOW */
.snow{
  background:
    radial-gradient(circle, rgba(255,255,255,.8) 2px, transparent 3px);
  background-size:40px 40px;
  animation: snow-fall 40s linear infinite;
}
@keyframes snow-fall{
  from{transform:translateY(-10%);}
  to{transform:translateY(20%);}
}

/* =========================
   LAYOUT
   ========================= */
.app{
  position:relative;
  z-index:1;
  height:100vh;
  display:grid;
  grid-template-rows:90px 1fr 80px;
}

/* HEADER */
header{
  padding:0 40px;
  display:flex;
  align-items:center;
  justify-content:space-between;
}

header img{height:42px}

.clock{
  font-size:34px;
  font-weight:600;
}

/* MAIN */
main{
  padding:40px;
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:32px;
}

/* CARDS */
.card{
  background:rgba(0,0,0,.45);
  border-radius:26px;
  padding:26px;
  box-shadow:0 30px 70px rgba(0,0,0,.6);
}

.card h3{
  margin:0 0 16px;
  font-size:14px;
  text-transform:uppercase;
  letter-spacing:.7px;
  opacity:.7;
}

/* WEATHER INFO */
.temp{
  font-size:72px;
  font-weight:700;
}
.meta{
  opacity:.7;
  margin-top:6px;
}

/* FORECAST */
.forecast{
  display:flex;
  gap:18px;
}
.forecast div{
  background:rgba(255,255,255,.05);
  border-radius:16px;
  padding:14px;
  text-align:center;
  min-width:90px;
}

/* FOOTER */
footer{
  padding:0 40px;
  display:flex;
  align-items:center;
  opacity:.6;
}
</style>
</head>

<body>

<div class="weather-fx" id="fx"></div>

<div class="app">

<header>
  <img src="assets/logo-monte-do-pasto.png">
  <div class="clock" id="clock">--:--</div>
</header>

<main>

  <div class="card">
    <h3>Tempo atual</h3>
    <div class="temp" id="temp">--°</div>
    <div class="meta" id="condition">---</div>
  </div>

  <div class="card">
    <h3>Próximas horas</h3>
    <div class="forecast" id="hourly"></div>
  </div>

</main>

<footer>
  Informação interna · Monte do Pasto
</footer>

</div>

<script>
/* CLOCK */
function tick(){
  document.getElementById("clock").textContent =
    new Intl.DateTimeFormat("pt-PT",{hour:"2-digit",minute:"2-digit"}).format(new Date());
}
tick();
setInterval(tick,30000);

/* WEATHER */
const fx = document.getElementById("fx");

fetch("https://api.open-meteo.com/v1/forecast?latitude=38.219&longitude=-7.887&current_weather=true&hourly=temperature_2m")
  .then(r=>r.json())
  .then(data=>{
    const w = data.current_weather;
    const temp = Math.round(w.temperature);
    document.getElementById("temp").textContent = temp+"°C";

    let type="fog", label="Nublado";

    if(w.weathercode===0){ type="sun"; label="Sol"; }
    else if(w.weathercode>=51){ type="rain"; label="Chuva"; }
    else if(temp<=2){ type="snow"; label="Frio"; }

    fx.className = "weather-fx "+type;
    document.getElementById("condition").textContent = label;

    const hourly = document.getElementById("hourly");
    hourly.innerHTML="";
    for(let i=1;i<=4;i++){
      hourly.innerHTML += `<div>${Math.round(data.hourly.temperature_2m[i])}°</div>`;
    }
  });
</script>

</body>
</html>
